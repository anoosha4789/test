<section class="m-4">
    <!--Page Title and Action buttons-->
    <div class="d-flex flex-wrap justify-content-between gw-dashboard-header-container pb-2">
        <div>
            <h6 class="mat-subheader px-0 pt-1">System Configuration</h6>
        </div>
        <div>
            <button *ngIf="bImportVisible" mat-button (click)="ImportConfiguration()"
                class="mat-button-tertiary-sm mat-button-tertiary-sm__icon gw-dasboard-btn mr-2" [title]="importTooltipText">
                <mat-icon class="mat-icon-left mat-icon">file_download</mat-icon> Import
            </button>
            <button *ngIf="!bImportVisible" mat-button
                [disabled]="isExportDisabled"
                (click)="ExportConfiguration()"
                class="mat-button-tertiary-sm mat-button-tertiary-sm__icon gw-dasboard-btn mr-2" [title]="exportTooltipText">
                <mat-icon class="mat-icon-left mat-icon">file_upload</mat-icon> Export
            </button>
            <button mat-button class="mat-button-tertiary-sm mat-button-tertiary-sm__icon gw-dasboard-btn mr-2"
                [disabled]="isSaveDisabled"
                (click)="ApplyConfiguration()" [title]="saveTooltipText">
                <mat-icon>save</mat-icon> Save
            </button>
            <button mat-button
                [disabled]="isResetDisabled"
                (click)="ResetConfiguration()"
                class="mat-button-tertiary-sm mat-button-tertiary-sm__icon gw-dasboard-btn gw-reset-btn" [title]="resetTooltipText">
                <mat-icon>undo</mat-icon> Reset
            </button>
        </div>
    </div>

    <!-- Card Overview-->
    <div class="d-flex flex-wrap justify-content-center align-content-stretch row gap-8 dashboard-card">

        <mat-card class="mb-sm-3 mx-md-2 mr-lg-1 gw-dashboard-card">
            <mat-card-header class="gw-dashboard-card-header">
                <mat-card-title>
                    <a [routerLink]="'/' + panelName + '/general'" class="gw-action-link">
                        <mat-label class="mat-subtitle-1">
                            <b
                                [ngClass]="{'gw-section-invalid': generalSettingErrorsList && generalSettingErrorsList.length > 0}">General
                                Settings</b>
                        </mat-label>
                    </a>
                    <ng-container *ngIf="generalSettingErrorsList && generalSettingErrorsList.length > 0">
                        <gw-error-notifier [errorsList]="generalSettingErrorsList"></gw-error-notifier>
                    </ng-container>
                    <a [routerLink]="'/' + panelName + '/general'" class="gw-icon-btn gw-float-right"
                        matTooltip="Edit General Settings" matTooltipPosition="below"
                        matTooltipClass="gw-dashboard-icon-tooltip">
                        <mat-icon>edit</mat-icon>
                    </a>
                </mat-card-title>
            </mat-card-header>
            <mat-divider></mat-divider>
            <mat-card-content class="gw-dashboard-card-content mt-3">
                <ng-container>

                    <div class="row px-0 my-2">
                        <div class="gw-dashboard-label px-3">
                            <mat-label class="body-label-value">Customer Name</mat-label>
                        </div>
                        <div class="col mat-form-field-wrapper gw-mat-form-field-wrapper px-lg-0 pb-0 pt-1">
                            <mat-label class="mat-body-2" matTooltip="{{panelConfigurationCommon.CustomerName}}"
                                matTooltipPosition="below" matTooltipClass="gw-label-mat-tooltip"
                                [matTooltipDisabled]="panelConfigurationCommon?.CustomerName?.length > 30 ? 'false': 'true'">
                                {{panelConfigurationCommon.CustomerName | gwTruncate:30 }}
                            </mat-label>
                        </div>
                    </div>
                    <div class="row px-0 my-2">
                        <div class="gw-dashboard-label px-3">
                            <mat-label class="body-label-value">Field Name</mat-label>
                        </div>
                        <div class="col mat-form-field-wrapper gw-mat-form-field-wrapper px-lg-0 pb-0 pt-1">
                            <mat-label class="mat-body-2" matTooltip="{{panelConfigurationCommon.FieldName}}"
                                matTooltipPosition="below" matTooltipClass="gw-label-mat-tooltip"
                                [matTooltipDisabled]="panelConfigurationCommon?.FieldName?.length > 30 ? 'false': 'true'">
                                {{panelConfigurationCommon.FieldName | gwTruncate:30 }}
                            </mat-label>
                        </div>
                    </div>
                    <div class="row px-0 my-2">
                        <div class="gw-dashboard-label px-3">
                            <mat-label class="body-label-value">Serial Number</mat-label>
                        </div>
                        <div class="col mat-form-field-wrapper gw-mat-form-field-wrapper px-lg-0 pb-0 pt-1">
                            <mat-label class="mat-body-2" matTooltip="{{panelConfigurationCommon.SerialNumber}}"
                                matTooltipPosition="below" matTooltipClass="gw-label-mat-tooltip"
                                [matTooltipDisabled]="panelConfigurationCommon?.SerialNumber?.length > 30 ? 'false': 'true'">
                                {{panelConfigurationCommon.SerialNumber | gwTruncate:30 }}
                            </mat-label>
                        </div>
                    </div>
                    <div class="row px-0 my-2">
                        <div class="gw-dashboard-label px-3">
                            <mat-label class="body-label-value">Panel Type</mat-label>
                        </div>
                        <div class="col mat-form-field-wrapper gw-mat-form-field-wrapper px-lg-0 pb-0 pt-1">
                            <mat-label class="mat-body-2">
                                {{panelTypeName}}
                            </mat-label>
                        </div>
                    </div>
                </ng-container>
            </mat-card-content>
        </mat-card>

        <mat-card class="mb-sm-3 mx-md-2 mr-lg-1 gw-dashboard-card">
            <mat-card-header class="gw-dashboard-card-header">
                <mat-card-title>
                    <a [routerLink]="'/' + panelName + '/clocksetting'" class="gw-action-link">
                        <mat-label class="mat-subtitle-1">Clock Settings</mat-label>
                    </a>
                    <a [routerLink]="'/' + panelName + '/clocksetting'" class="gw-icon-btn gw-float-right"
                        matTooltip="Edit Clock Settings" matTooltipPosition="below"
                        matTooltipClass="gw-dashboard-icon-tooltip">
                        <mat-icon>edit</mat-icon>
                    </a>
                </mat-card-title>
            </mat-card-header>
            <mat-divider></mat-divider>
            <mat-card-content class="gw-dashboard-card-content mt-3">

                <div class="row px-0 my-2">
                    <div class="gw-clock-setting-label px-3">
                        <mat-label class="body-label-value">Time</mat-label>
                    </div>
                    <div class="col mat-form-field-wrapper gw-mat-form-field-wrapper px-lg-0 pb-0 pt-1">
                        <mat-label class="mat-body-2">{{ systemClockTime | date: 'HH:mm:ss' }} </mat-label>
                    </div>
                </div>
                <div class="row px-0 my-2">
                    <div class="gw-clock-setting-label px-3">
                        <mat-label class="body-label-value">Date</mat-label>
                    </div>
                    <div class="col mat-form-field-wrapper gw-mat-form-field-wrapper px-lg-0 pb-0 pt-1">
                        <mat-label class="mat-body-2">{{ systemClockTime | date: 'MMM d y' }}</mat-label>
                    </div>
                </div>
                <div class="row px-0 my-2">
                    <div class="gw-clock-setting-label px-3">
                        <mat-label class="body-label-value">Time Zone</mat-label>
                    </div>
                    <div class="col mat-form-field-wrapper gw-mat-form-field-wrapper px-lg-0 pb-0 pt-1">
                        <mat-label class="mat-body-2">{{systemTimeZone}} </mat-label>
                    </div>
                </div>
            </mat-card-content>
        </mat-card>

        <mat-card class="mb-sm-3 mx-md-2 px-0 gw-dashboard-card pb-0">
            <mat-card-header class="gw-dashboard-card-header">
                <mat-card-title class="px-4">
                    <a [routerLink]="'/' + panelName + '/networksetting'" class="gw-action-link">
                        <mat-label class="mat-subtitle-1">Network Settings</mat-label>
                    </a>
                    <a [routerLink]="'/' + panelName + '/networksetting'" class="gw-icon-btn gw-float-right"
                        matTooltip="Edit Network Settings" matTooltipPosition="below"
                        matTooltipClass="gw-dashboard-icon-tooltip">
                        <mat-icon>edit</mat-icon>
                    </a>
                </mat-card-title>
            </mat-card-header>
            <mat-divider></mat-divider>
            <mat-card-content class="gw-dashboard-card-content mt-1 pl-4 pr-0.5">
                <cdk-virtual-scroll-viewport class="gw-dashboard-scrollbar" itemSize="10">
                    <div class="row px-0 my-2" *ngFor="let network of networkList; let idx = index;">
                        <div class="gw-network-setting-label px-3">
                            <mat-label class="body-label-value">{{network.Description}}</mat-label>
                        </div>
                        <div class="col mat-form-field-wrapper gw-mat-form-field-wrapper px-lg-0 pb-0 pt-1">
                            <mat-label class="mat-body-2">{{network.IpAddress}}</mat-label>
                        </div>
                    </div>
                </cdk-virtual-scroll-viewport>
            </mat-card-content>
        </mat-card>

        <mat-card *ngIf="bIsMultiNodePanel" class="mb-sm-3 mx-md-2 mr-lg-1 px-0 gw-dashboard-card gw-dashboard-dynamic-card">
            <mat-card-header class="gw-dashboard-card-header">
                <mat-card-title class="px-4">
                    <a [routerLink]="'/' + panelName + '/sie'" class="gw-action-link" [ngClass]="{'gw-siu-disabled': !enableAddSIU}">
                        <mat-label class="mat-subtitle-1">
                            <b
                                [ngClass]="{'gw-section-invalid': sieErrorsList && sieErrorsList.length > 0}">SIUs</b>
                        </mat-label>
                    </a>
                    <ng-container *ngIf="sieErrorsList && sieErrorsList.length > 0">
                        <gw-error-notifier [errorsList]="sieErrorsList"></gw-error-notifier>
                    </ng-container>
                    <a [routerLink]="'/' + panelName + '/sie'" class="gw-icon-btn gw-float-right" matTooltip="Add SIU"
                        matTooltipPosition="below" matTooltipClass="gw-dashboard-icon-tooltip" *ngIf="enableAddSIU">
                        <mat-icon>add_circle</mat-icon>
                    </a>
                </mat-card-title>
            </mat-card-header>
            <mat-divider></mat-divider>
            <mat-card-content class="gw-dashboard-card-content  mt-1">

                <cdk-virtual-scroll-viewport class="gw-dynamic-card-scrollbar" itemSize="10">
                    <gateway-tree-view [treeNodes]="sieNode"></gateway-tree-view>
                </cdk-virtual-scroll-viewport>

            </mat-card-content>
        </mat-card>

        <mat-card *ngIf="!bIsMultiNodePanel" class="mb-sm-3 mx-md-2 mr-lg-1 px-0 gw-dashboard-card gw-dashboard-dynamic-card">
            <mat-card-header class="gw-dashboard-card-header">
                <mat-card-title class="px-4">
                    <a [routerLink]="'/' + panelName + '/well'" class="gw-action-link">
                        <mat-label class="mat-subtitle-1">
                            <b
                                [ngClass]="{'gw-section-invalid': wellsErrorsList && wellsErrorsList.length > 0}">Wells</b>
                        </mat-label>
                    </a>
                    <ng-container *ngIf="wellsErrorsList && wellsErrorsList.length > 0">
                        <gw-error-notifier [errorsList]="wellsErrorsList"></gw-error-notifier>
                    </ng-container>
                    <a [routerLink]="'/' + panelName + '/well'" class="gw-icon-btn gw-float-right" matTooltip="Add Well"
                        matTooltipPosition="below" matTooltipClass="gw-dashboard-icon-tooltip">
                        <mat-icon>add_circle</mat-icon>
                    </a>
                </mat-card-title>
            </mat-card-header>
            <mat-divider></mat-divider>
            <mat-card-content class="gw-dashboard-card-content  mt-1">

                <cdk-virtual-scroll-viewport class="gw-dynamic-card-scrollbar" itemSize="10">
                    <gateway-tree-view [treeNodes]="wellNode"></gateway-tree-view>
                </cdk-virtual-scroll-viewport>

            </mat-card-content>
        </mat-card>


        <mat-card class="mb-sm-3 mx-md-2 mr-lg-1 px-0 gw-dashboard-card gw-dashboard-dynamic-card">
            <mat-card-header class="gw-dashboard-card-header">
                <mat-card-title class="px-4">
                    <a [routerLink]="'/' + panelName + '/datasource'" class="gw-action-link">
                        <mat-label class="mat-subtitle-1">
                            <b
                                [ngClass]="{'gw-section-invalid': dataSourceErrorsList && dataSourceErrorsList.length > 0}">
                                Devices
                            </b>
                        </mat-label>
                    </a>
                    <ng-container *ngIf="dataSourceErrorsList && dataSourceErrorsList.length > 0">
                        <gw-error-notifier [errorsList]="dataSourceErrorsList"></gw-error-notifier>
                    </ng-container>
                    <a [routerLink]="'/' + panelName + '/datasource'" class="gw-icon-btn gw-float-right"
                        matTooltip="Add Device" matTooltipPosition="below" matTooltipClass="gw-dashboard-icon-tooltip">
                        <mat-icon>add_circle</mat-icon>
                    </a>
                </mat-card-title>
            </mat-card-header>
            <mat-divider></mat-divider>
            <mat-card-content class="gw-dashboard-card-content mt-1 pr-0.5">
                <cdk-virtual-scroll-viewport class="gw-dynamic-card-scrollbar" itemSize="10">
                    <gateway-tree-view [treeNodes]="dataSourceNode"></gateway-tree-view>
                </cdk-virtual-scroll-viewport>
            </mat-card-content>
        </mat-card>

        <mat-card class="mb-sm-3 mx-md-2 pb-0 px-0 gw-dashboard-card gw-dashboard-dynamic-card">
            <mat-card-header class="gw-dashboard-card-header">
                <mat-card-title class="px-4">
                    <a *ngIf="bImportVisible" href="javascript:void(0);" class="gw-action-link cardheader_disabled">
                        <mat-label class="mat-subtitle-1 title-disabled">Data Publishing</mat-label>
                    </a>
                    <a *ngIf="bImportVisible" href="javascript:void(0);" class="gw-icon-btn gw-float-right disabled">
                        <mat-icon>add_circle</mat-icon>
                    </a>
                    <a *ngIf="!bImportVisible" href="javascript:void(0);" class="gw-action-link" [satPopoverAnchor]="p" (click)="p.toggle()">
                        <mat-label class="mat-subtitle-1">
                            <b
                                [ngClass]="{'gw-section-invalid': publishingErrorsList && publishingErrorsList.length > 0}">Data
                                Publishing</b>
                        </mat-label>
                    </a>
                    <ng-container *ngIf="!bImportVisible && publishingErrorsList && publishingErrorsList.length > 0">
                        <gw-error-notifier [errorsList]="publishingErrorsList"></gw-error-notifier>
                    </ng-container>
                    <a matTooltip="Add Data Publishing" href="javascript:void(0);" matTooltipPosition="below" matTooltipClass="gw-dashboard-icon-tooltip" *ngIf="!bImportVisible" class=" gw-icon-btn gw-float-right hover-anchor" [satPopoverAnchor]="p" (click)="p.toggle()">
                        <mat-icon>add_circle</mat-icon>
                    </a>
            
                    <sat-popover #p horizontalAlign="after" hasBackdrop>
                      <div class="tooltip-wrapper">
                          <div>
                                <a matTooltip="Add Realtime Data" matTooltipPosition="below" matTooltipClass="gw-dashboard-icon-tooltip" href="javascript:void(0);" [routerLink]="'/' + panelName + '/publishing'" class="gw-icon-btn gw-float-left">
                                    <mat-icon>add_circle</mat-icon>
                                </a>
                                <a [routerLink]="'/' + panelName + '/publishing'" class="gw-action-link">
                                    <mat-label class="mat-subtitle">Add Realtime Data </mat-label>
                                </a>
                        </div>
                        <div>
                                <a matTooltip="Add Data Logger" matTooltipPosition="below" matTooltipClass="gw-dashboard-icon-tooltip" href="javascript:void(0);"  (blur)="p.toggle()" (click)="showDataLoggerDialog()" class="gw-icon-btn gw-float-left">
                                    <mat-icon>add_circle</mat-icon>
                                </a>
                                <a  href="javascript:void(0);"  (blur)="p.toggle()" (click)="showDataLoggerDialog()" class="gw-action-link">
                                    <mat-label class="mat-subtitle"> Add Data Logger</mat-label>
                                </a>
                        </div>
                      </div>
                    </sat-popover>

                </mat-card-title>
            </mat-card-header>
            <mat-divider></mat-divider>
            <mat-card-content class="gw-dashboard-card-content mt-1 pr-0.5">
                <cdk-virtual-scroll-viewport class="gw-dynamic-card-scrollbar" itemSize="10">
                    <gateway-tree-view [treeNodes]="publishingNode"></gateway-tree-view>
                    <gateway-tree-view [treeNodes]="dataLoggerNode"></gateway-tree-view>
                </cdk-virtual-scroll-viewport>
            </mat-card-content>
        </mat-card>
    </div>

    <div class="d-flex m-2"></div>

</section>